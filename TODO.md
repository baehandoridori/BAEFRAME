# BAEFRAME TODO List

## 완료됨 ✅

### 최근 완료 (2024-12-30)
- [x] 입력 필드 먹통 현상 수정 (pointerdown 방식으로 업계 표준 적용)
- [x] 특수 이름(색상 이름) 볼드 표시
- [x] 키프레임 드래그 시 고스트 프리뷰 (투명도 0.5 클론 + 툴팁)
- [x] 프레임 삭제 시 키프레임 겹침 버그 수정
- [x] Shift+3 키프레임 삭제 단축키 추가
- [x] 댓글에 프레임 썸네일 표시 기능 (토글 + 스케일 조절)
- [x] btnCommentSettings 중복 선언 오류 수정
- [x] run-baeframe.bat: package.json 변경 감지 및 자동 npm install
- [x] run-baeframe.bat: Electron 캐시 자동 정리

### 이전 완료
- [x] Slack 이름에서 한글만 추출
- [x] 마커 입력: Shift+Enter 줄바꿈, 말풍선 크기 자동 조절
- [x] 우측 댓글 섹션에서 댓글 수정 기능
- [x] Slack 하이퍼링크 형식을 JBBJ 방식과 동일하게 수정
- [x] 댓글 답글(스레드) 기능 구현
- [x] 동영상 플레이어 최적화 (그리기 레이어 프레임 스킵 문제)
- [x] 파일 열었을 때 다른 파일 열기 버튼 및 로직 추가
- [x] 파일 열었을 때 현재 열려있는 파일의 경로 폴더 열기 버튼 및 로직 추가
- [x] baeframe:// 프로토콜 등록 및 링크 공유 기능
- [x] B 버튼 크레딧 모달에 플렉서스 효과 (삼각형 채우기, 색상 변화)
- [x] 이름별 UI 색상 테마 (윤성원->파랑, 혜원->핑크, 한솔->빨강)
- [x] 이름 설정 영구 저장 (localStorage)
- [x] 특정 이름 댓글에 아바타 이미지 표시 (한솔/배한솔/한솔쿤, 페더 효과)
- [x] 슬랙 스타일 스레드 팝업 (댓글 더블클릭)
- [x] 리치 텍스트 에디터 (Ctrl+B 굵게, Ctrl+I 기울임, "- " 불릿)
- [x] 허혜원/모몽가 아바타 이미지 추가
- [x] 이름별 색상 표시 (배한솔: 빨강, 윤성원: 파랑, 허혜원: 핑크)
- [x] 스레드 팝업 열린 상태에서 키보드 단축키 차단
- [x] 스레드 답글 저장 버그 수정
- [x] 그리기 섹션 지우개 기본 크기 더 크게 설정 (도구별 크기 저장 구현)
- [x] 그리기 섹션에 불투명도 옵션 추가
- [x] 구간 반복 재생 기능 (I: 시작점, O: 종료점, L: 토글)
- [x] 타임라인에 구간 반복 마커 표시
- [x] 타임라인 확대 시 플레이헤드 드래그 감도 문제 수정
- [x] 타임라인 확대 상태에서 창 크기 변경 시 플레이헤드 위치 튀는 문제 수정

---

## 진행 예정 📋

### 🌐 웹 뷰어 개발 (신규 - 높은 우선순위)

> 상세 계획: [BAEFRAME-WEB-VIEWER.md](./BAEFRAME-WEB-VIEWER.md)

#### 1단계: 웹 뷰어 (읽기 전용)
- [ ] HTML5 비디오 플레이어 구현
- [ ] .bframe 파일 URL로 로드 및 파싱
- [ ] 댓글 목록 표시 (타임라인 마커 포함)
- [ ] 그리기 레이어 Canvas 렌더링
- [ ] 키프레임 애니메이션 재현
- [ ] 반응형 UI (모바일 대응)
- [ ] Vercel 배포

#### 2단계: Google Drive 연동 (댓글 쓰기)
- [ ] Google Sign-in 연동
- [ ] Google Drive API로 .bframe 읽기/쓰기
- [ ] 댓글 추가 기능
- [ ] 충돌 방지 로직 (병합)

#### 3단계: 고급 기능 (선택적)
- [ ] 간단한 그리기 도구
- [ ] 키프레임 추가
- [ ] Slack Bot 연동

---

### 기능 추가
- [ ] 댓글에 이미지 삽입 기능
- [ ] 그리기 레이어 포함 영상 내보내기
- [ ] 단축키 사용자 설정화
- [ ] 데스크톱에서 "웹 링크 복사" 버튼 추가

### UI 개선
- [ ] UI 레이어 패널 상하 높이 좀 더 커지게
- [ ] 댓글 섹션 리사이즈 버그 수정 (왼쪽으로 늘릴 때 느림)

### 버그 수정
- (현재 알려진 버그 없음)

---

## 임시 비활성화 ⏸️

### 영상 어니언 스킨
- [ ] 영상의 어니언 스킨 추가 버튼 (이전/이후 프레임 반투명 표시)
  - 구현 완료했으나 캔버스 오버레이가 비디오를 가리는 문제 발생
  - z-index, visibility 조정으로 해결되지 않음
  - 다른 렌더링 접근 방식 필요 (예: WebGL, 합성 방식 변경 등)

### 사용자 설정
- [ ] 앱 실행할때마다 이름 입력 칸 나오게 하는거 수정

### 문서화
- [ ] README.md 작성
- [ ] 사용자 가이드 작성

---

## 개발 페이즈 (baeframe-dev-docs.md 기준)

### Phase 5: Undo/Redo
- [ ] UndoManager 구현
- [ ] 그리기 Undo/Redo
- [ ] 댓글 Undo/Redo
- [ ] Ctrl+Z / Ctrl+Y 단축키

### Phase 6: 타임라인 고급 기능
- [x] 줌 인/아웃 (Ctrl + 휠)
- [x] 가로 스크롤
- [x] 댓글 마커 표시
- [x] 레이어 표시
- [x] 플레이헤드 드래그

### Phase 7: 버전 관리
- [ ] 파일명에서 버전 파싱 (v1, V2, v03 등)
- [ ] 같은 이름의 버전 파일들 감지
- [ ] 버전 목록 UI
- [ ] 버전 전환

### Phase 9: 사용자 설정
- [x] 첫 실행 시 이름 입력
- [ ] Slack 이름 가져오기 (선택적)
- [x] 설정 저장 (electron-store)
- [x] 설정 UI

### Phase 10: 마무리 & 테스트
- [ ] 전체 기능 통합 테스트
- [ ] 에러 핸들링 보강
- [ ] 성능 최적화
- [ ] 배포 스크립트 (포터블)

---

## 단축키 목록 (현재 구현됨)

| 단축키 | 기능 |
|--------|------|
| Space | 재생/일시정지 |
| ← / → | 1프레임 이동 |
| Shift + ← / → | 10프레임 이동 |
| , / . | 1프레임 이동 (대안) |
| I | 구간 반복 시작점 |
| O | 구간 반복 종료점 |
| L | 구간 반복 토글 |
| 1 | 레이어 추가 |
| 2 | 레이어 삭제 |
| 3 | 키프레임 추가 |
| Shift+3 | 키프레임 삭제 |
| 4 | 프레임 삽입 |
| 5 | 프레임 삭제 |
| C | 댓글 모드 토글 |
| D | 그리기 모드 토글 |
| Z | 펜 도구 |
| X | 지우개 도구 |
| S / Ctrl+S | 저장 |
| Ctrl+O | 파일 열기 |
| Ctrl+B | 텍스트 굵게 (편집 중) |
| Ctrl+I | 텍스트 기울임 (편집 중) |
| Ctrl+휠 | 타임라인 줌 |
| Shift+휠 | 타임라인 가로 스크롤 |

---

*마지막 업데이트: 2024-12-30 (웹 뷰어 계획 추가, 최근 구현 기능 반영)*
